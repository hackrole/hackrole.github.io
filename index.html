<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Hackrole's Blog</title><link rel=icon type=image/png sizes=32x32 href=https://hackrole.github.io/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_2.png><link rel=apple-touch-icon sizes=180x180 href=https://hackrole.github.io/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_2.png><link rel=stylesheet href=https://hackrole.github.io/css/eureka.min.css><script defer src=https://hackrole.github.io/js/eureka.min.js></script><link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js></script><script async src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin=anonymous></script><meta itemprop=name content="Hackrole's Blog"><meta itemprop=description content="Eureka is a elegant and powerful theme for Hugo."><meta property="og:title" content="Hackrole's Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://hackrole.github.io/"><meta property="og:description" content="Eureka is a elegant and powerful theme for Hugo."><meta property="og:locale" content="en"><meta property="og:site_name" content="Hackrole's Blog"><meta property="og:updated_time" content="2021-05-10T00:00:00+00:00"><meta property="article:section" content><link rel=alternate type=application/rss+xml href=https://hackrole.github.io/index.xml title="Hackrole's Blog"><body class="flex flex-col min-h-screen"><header class="flex items-center fixed w-full min-h-16 z-50 bg-secondary-bg shadow-sm"><div class="container mx-auto"><div class=max-w-screen-xl><script>let storageColorScheme=localStorage.getItem("lightDarkMode");(storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark"?document.getElementsByTagName('html')[0].classList.add('dark'):storageColorScheme=="Light"&&document.getElementsByTagName('html')[0].classList.remove('dark')</script><nav class="flex items-center justify-between flex-wrap p-4"><a href=/ class="mr-6 text-primary-text text-xl font-bold">Hackrole's Blog</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0" id=current-url currenturl=https://hackrole.github.io/><a href=/about/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">About</a>
<a href=/post/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Posts</a>
<a href=/docs/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Docs</a>
<a href=/tags/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Tags</a>
<a href=/categories class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Categories</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka">Light</span>
<span class="px-4 py-1 hover:text-eureka">Dark</span>
<span class="px-4 py-1 hover:text-eureka">Auto</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()});let currenturl=document.getElementById('current-url').getAttribute('currenturl');currenturl.length>1&&(currenturl=currenturl.substr(0,currenturl.length-1)),sessionStorage.setItem("mainKey",currenturl);let elements=document.getElementsByClassName('main-a');for(let a in elements)if(typeof elements[a]=="object"){let b=elements[a].getAttribute('href');b.length>1&&b.charAt(b.length-1)=='/'&&(b=b.substr(0,b.length-1)),b==sessionStorage.getItem("mainKey")?elements[a].classList.add('text-eureka'):elements[a].classList.remove('text-eureka')}</script></div></div></header><main class="flex-grow pt-16"><div class="w-full bg-secondary-bg"><div class="container mx-auto"><div class=max-w-screen-xl><div class="grid grid-cols-9 grid-rows-5 h-screen -mt-16"><div class="col-start-2 col-span-4 row-start-3 row-span-2 bg-local bg-cover z-10 shadow-2xl" style=background-image:url(https://hackrole.github.io/images/hero-left.jpg)></div><div class="col-start-3 col-span-5 row-start-2 row-span-3 z-20"><div class="flex flex-col items-center justify-center min-h-full"><div class="bg-white bg-opacity-75 shadow-2xl -m-12 p-12"><span class="font-bold text-black text-opacity-75 text-2xl md:text-3xl">We are all in the gutter, but some of us are looking at the stars.</span></div></div></div><div class="col-start-5 col-span-4 row-start-2 row-span-2 bg-local bg-cover shadow-2xl" style=background-image:url(https://hackrole.github.io/images/hero-right.jpg)></div></div></div></div></div><div class="container mx-auto"><div class="max-w-screen-xl pt-12 md:px-4 xl:px-8"><div class="mx-4 xl:mx-16"><div class="flex flex-row items-center justify-between"><h2 class="font-bold text-3xl my-4">Recent</h2></div><div class="masonry grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8"><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/howto-graphql-core-concept/ class=hover:text-eureka>core-concept</a></div><div>rest vs graphql good things from rest stateless API, which make web-scalable and easy-manage resource-oriented programming and structured accessto resources, which make many goods, such as cacheable, retriable. the bad things with rest `1+N` problem: fetch list api, fetch every detail api to get more message.
overfetching(fetch too much data which was not requried) underfetching(not-enough data from api, which make it need multi request to get the data). too flexible, may things this like dynamic(rest) vs static(graphql).</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Dec 5, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>2 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/howtographql/ class=hover:text-eureka>howtographql</a></div><div class="mr-6 my-2"><i class="fas fa-th-list mr-1"></i>
<a href=https://hackrole.github.io/series/howtographql/ class=hover:text-eureka>howtographql</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/learn-bokeh-get-started/ class=hover:text-eureka>quick-start</a></div><div>bokeh can provide interactive visualization for modern web browsers. elegant, concise, vesatile graphics, *afford high-performacne interactiivity onver lagerge or streaming datasets.
bokeh provide two interface levels:
bokeh.models: low-level interface provide most flexibility bokeh.plotting: higher-level interface centered around composing visual glyphs. this focus on bokeh.plotting.
installation # recommend way # conda install deps, and exmaples in *examples/* subdirectory conda install bokeh # using pip, you need install ~numpy~ and so on. pip install bokeh get-starting [] TODO output bokeh plot to or-babel result you can download sample-date and example from bokeh</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Nov 17, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>3 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/bokeh/ class=hover:text-eureka>bokeh</a></div><div class="mr-6 my-2"><i class="fas fa-th-list mr-1"></i>
<a href=https://hackrole.github.io/series/bokeh/ class=hover:text-eureka>bokeh</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/python-howto-graphql-note/ class=hover:text-eureka>python-graphql-server note</a></div><div>schema-driven development define your types and the appropriate queries and mutations for them. implemetns functions called resolvers to handle these types and their fields. as new requirements arrive, go back to step 1 update the schema. about relay a mechanism for refetching an object a description of how to page through connections structure around mutation to make them prediatable</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Dec 5, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>1 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/howtographql/ class=hover:text-eureka>howtographql</a></div><div class="mr-6 my-2"><i class="fas fa-th-list mr-1"></i>
<a href=https://hackrole.github.io/series/howtographql/ class=hover:text-eureka>howtographql</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/learn-rust-note-16-concurrency/ class=hover:text-eureka>16 无畏并发 fearless concurrency</a></div><div>concurrent-programming: programs can run in independent with each other. parallel programming: program can run at same time.
as a low-level language, rust need less abstraction and more control.
use thread process vs thread
programs:
Race conditions: data-race. resource-race. DeakLock difficult concurrent bug. os-thread vs green-thread: 1:1 vs M:N
/// thread examples /// when the main-thread exit, the fork-thread will exit too. /// just like python thread.deamon flag. use std::thread; use std::time::Duration; fn main() { thread::spawn(|| { for i in 1.</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Nov 4, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>4 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/rust/ class=hover:text-eureka>Rust</a></div><div class="mr-6 my-2"><i class="fas fa-th-list mr-1"></i>
<a href=https://hackrole.github.io/series/rust/ class=hover:text-eureka>rust</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/learn-rust-19-unsafe-rust/ class=hover:text-eureka>rust advance feature</a></div><div>unsafe-rust advance-trait trait-ref-type 与trait相关的关联类型 default type param 默认参数类型 fully qualified syntax 完全限定语法 supertraits 超父类 newtype模式 advance-type more about new-type pattern type alias 类型别名 never type dymatic-size type 动态大小类型 advance function and closure function point 函数指针 return closure 返回闭包 macro 宏 unsafe-rust the-addional-super power of unsafe
解引用裸指针 调用不安全的函数或方法 访问或修改可变静态变量 实现不安全的trait 访问union字段 the owner-check is still on
unref-raw-point ignore owner-rule, allow mut and immute ref.</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Nov 8, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>5 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/rust/ class=hover:text-eureka>Rust</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/learn-rust-20-threading-webserver/ class=hover:text-eureka>20 build multiple-threading webserver</a></div><div></div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Nov 9, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>0 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/rust/ class=hover:text-eureka>Rust</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/dirty-quick-and-tidy-it/ class=hover:text-eureka>dirty-quick-and-tidy-it</a></div><div>backend the failure in manager knobs project, A project for the dirty work.
the reason workflow error the bad workflow
@startuml &amp;quot;start code&amp;quot; -&amp;gt; &amp;quot;while code try to restruct the code&amp;quot; &amp;quot;after code finish&amp;quot; -&amp;gt; &amp;quot;write test for the code or skip this just to deploy and test it by hand&amp;quot; &amp;quot;the configure raise and origin design error&amp;quot; @enduml the maybe-bettter workflow
@startuml &amp;quot;get overview about the code, start write design-doc or just collect it&amp;quot; &amp;quot;first try out the dependance-service, by use django-shell or python-script&amp;quot; &amp;quot;write code or test, maybe TDD is ready now&amp;quot; @enduml the reason for this is forget to do research, the dirty work maybe superise you in any ways.</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>May 10, 2021</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>1 min read</span></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/ob-ipython-note/ class=hover:text-eureka>using ob-ipython as alternative of jupyter</a></div><div>ob-ipython introduce ob-ipython repo
ob-ipython是基于org-babel,提供了一个在org-mode下做类似jupyter-notebook体验的开发模式. 用来快速做代码尝试或一个pandas数据分析很长合适.
为什么不使用原声的jupyter呢?
基于browser的jupyter使用体验并不好. 按键配置和补全,snippets等等都是致命伤，这让jupyter notebook用起来更像个toy-project.
org-mode天生强大的功能配合ob-babel, ob-ipython. org-mode强大的文件编辑功能自不必说, 这种方式也比原生的代码里套markdown的方式更舒服. 配合上可以使用emacs所有的增强功能.
literal-programming的正确使用方式.
支持的特性 内嵌pandas, matplotlib图片和表格数据 org-mode variable 导出功能export multi-language?? jupyter-kernel support?? working with a remote session?? 在代码中打开REPL to play with. org literal-programming with :tang supported. install in spacemacs first add ob-ipython to spacemacs dotspacemacs-additional-packages install jupyter pip install jupyter config ob-ipython in spacemacs `user-config` (with-eval-after-load 'org (add-to-list 'org-babel-load-languages '(ipython . t)) (add-to-list 'org-babel-load-languages '(rust .</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Dec 6, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>1 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/emacs/ class=hover:text-eureka>emacs</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/learn-rust-18-match-pattern/ class=hover:text-eureka>18 rust pattern</a></div><div>包括的内容:
字面量 literal 解构数组，枚举，结构提，元组等 变量 通配符 占位符 rust match rust match is exhaustive, all situation must be consided
_ match all, and not bind to variable, use to ignore
if let use can only care abouot one situation
fn main() { let favorite_color: Option&amp;lt;&amp;amp;str&amp;gt; = None; let is_tuesday = false; let age: Result&amp;lt;u8, _&amp;gt; = &amp;quot;34&amp;quot;.parse(); if let Some(color) = favorite_color { println!(&amp;quot;Using your favorite color, {}, as the backgourd&amp;quot;, favorite_color); }else if is_tuesday { println!</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Nov 8, 2020</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>3 min read</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/rust/ class=hover:text-eureka>Rust</a></div></div></div></div></div></div><div class=item><div class=grid-content><div class="bg-secondary-bg rounded overflow-hidden hover:shadow-lg transition ease-in-out duration-200"><div class="px-6 pt-6"><div class="font-bold text-xl text-primary-text mb-2"><a href=https://hackrole.github.io/post/sort/ class=hover:text-eureka>sort algorithms note</a></div><div>heap sort in-place sort algorithms
O(nlgn)
过程要点 left/right/parent可以通过(2n, 2n+1, n/2)算出.
一般数组索引从0开始，left/right/parent为(2n+1, 2n+2, (n-1)/2)
建堆算法 O(n)
堆有一个cap和一个len(当前长度)
步骤 # max-heap 保持堆性质 def max_heap(h, i): l = left(i) r = right(i) if l &amp;lt;= heap_size(A) &amp;amp;&amp;amp; A[l] &amp;gt; A[i]: lg = l if r &amp;lt;= heap_size(A) &amp;amp;&amp;amp; A[r] &amp;gt; A[i]: lg = r if lg != i: A[i], A[lg] = A[lg], A[i] max_heap(h, lg) # build-heap 建堆 def build_heap(h): hs = len(h) for i = hs/2; i &amp;gt;= 0; i--: build_heap(h, i) # heap-sort 排序 def heap_sort(A): build_heap(A) for i = len(A); i&amp;gt;0; i--: A[0], A[i] = A[i], A[0] A.</div></div><div class="px-6 pb-2"><div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>Mar 8, 2019</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>1 min read</span></div></div></div></div></div></div></div></div><script>document.addEventListener('DOMContentLoaded',()=>{enableMasonry()})</script></div></div></main><footer><div class="container mx-auto"><div class=max-w-screen-xl><footer class="w-full text-center p-6 pin-b text-sm text-tertiary-text"><p>&copy; 2020 <a href=https://www.wangchucheng.com/>C. Wang</a> and <a href=https://www.ruiqima.com/>R. Ma</a> &#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p></footer></div></div></footer></body></html>