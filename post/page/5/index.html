<!doctype html><html lang=en><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Hackrole's Blog</title>
<link rel=icon type=image/png sizes=32x32 href=https://hackrole.github.io/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_3.png>
<link rel=apple-touch-icon sizes=180x180 href=https://hackrole.github.io/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_3.png>
<link rel=stylesheet href=https://hackrole.github.io/css/eureka.min.css>
<script defer src=https://hackrole.github.io/js/eureka.min.js></script>
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js></script>
<script async src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin=anonymous></script>
<meta itemprop=name content="Hackrole's Blog">
<meta itemprop=description content="Eureka is a elegant and powerful theme for Hugo.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Hackrole's Blog","item":"https://hackrole.github.io/"},{"@type":"ListItem","position":2,"name":"Posts","item":"https://hackrole.github.io/post/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"ItemList","itemListElement":[{"@type":"ListItem","position":1,"name":"视频站点架构探索","description":"video site or OBS site how to write a video-site or OBS-site TODOref site page   AcFun A站\nA站架构\n业务层面: 用户上传体验，举报自动审核等流程 技术探索: P2P技术?，视频编码切分，视频缩略图存储挑战, 最初的盗链站实现?\n    youku, youtube\nyouku,youtube,twitter,justinTV 架构\n  youku\n数据库mysql的一般进化路线: 读写分离 -\u0026gt; 水平sharding, 考虑NoSql,NewSql?? 缓存和CDN的使用\n    youtube\npsyco（dead), pypy JIT编译 热门内容和非热门内容处理方式的分化\n保持简单和廉价 保持网络路径简单 使用常用设备 使用自架的存储，要考虑文件系统限制 ext3 vs oss, 小文件存储优化\n  learning\nstall for time, 创造性和风险性的技巧让你短期内解决问题并让你发现长期解决方案 Proioritize, 找出服务核心价值，对资源划分优先级 pick your battle, 别怕将你的核心服务分出去，CDN keep it simple, 简单允许你重新架构 shard, sharding帮助隔离,不只是性能 constant iteration on bottlenecks: 软件(DB, 缓存), OS(磁盘I/O), 硬件(内存/RAID) you succeed as a team.","url":"https://hackrole.github.io/post/video_site_research/"},{"@type":"ListItem","position":2,"name":"dirty-quick-and-tidy-it","description":"backend the failure in manager knobs project, A project for the dirty work.\nthe reason workflow error the bad workflow\n@startuml \u0026quot;start code\u0026quot; -\u0026gt; \u0026quot;while code try to restruct the code\u0026quot; \u0026quot;after code finish\u0026quot; -\u0026gt; \u0026quot;write test for the code or skip this just to deploy and test it by hand\u0026quot; \u0026quot;the configure raise and origin design error\u0026quot; @enduml  the maybe-bettter workflow\n@startuml \u0026quot;get overview about the code, start write design-doc or just collect it\u0026quot; \u0026quot;first try out the dependance-service, by use django-shell or python-script\u0026quot; \u0026quot;write code or test, maybe TDD is ready now\u0026quot; @enduml  the reason for this is forget to do research, the dirty work maybe superise you in any ways.","url":"https://hackrole.github.io/post/dirty-quick-and-tidy-it/"},{"@type":"ListItem","position":3,"name":"source read","description":"TODOadd lib to auto-read python lib, make plantuml file plantuml graph class graph @startuml class RequestMethods { __init__(headers) urlopen(method: str, url: str, body, headers, encode_multipart, **kw) -\u0026gt; BaseHTTPResposne request(method: str, url: str, body, fields, headers, json, **urlopen_kw) -\u0026gt; BaseHTTPResposne request_encode_url(method, url, fields, headers, **urlopen_kw) -\u0026gt; BaseHTTPResposne request_encode_body(method, url, fields, headers, encode_multipart: bool, **urlopen_kw) -\u0026gt; BaseHTTPResposne } class ContentDecoder { decompress(self, data: btyes) -\u0026gt; bytes flush(self) -\u0026gt; bytes } class DeflateDecoder { decompress(self, data: bytes) -\u0026gt; bytes flush(self) -\u0026gt; bytes } enum GzipDecoderState { FIRST_MEMBER OTHER_MEMBERS SWALLOW_DATA } class GzipDecoder { decompress(self, data: bytes) -\u0026gt; bytes flush(self) -\u0026gt; bytes } class BrotliDecoder { flush(self) -\u0026gt; bytes } class MultiDecoder { list[ContentDecoder] _decoders decompress(self, data: bytes) -\u0026gt; bytes flush(self) -\u0026gt; bytes } ContentDecoder \u0026lt;|-- DeflateDecoder ContentDecoder \u0026lt;|-- GzipDecoder ContentDecoder \u0026lt;|-- BrotliDecoder ContentDecoder \u0026lt;|-- MultiDecoder class BaseHTTPResposne { abstract data : property abstract url : property abstract closed : property abstract HTTPConnection connection : property get_redirect_location(self) -\u0026gt; Union[None, str, False] json() -\u0026gt; Any abstract stream(amt: Optional[int] decode_content: Optional[bool]) -\u0026gt; Iterator[bytes] abstract read(amt: Optional[int], decode_content: Optional[bool], cache_content: bool) -\u0026gt; bytes abstract read_chunked(self, amt: Optional[int], decode_content: Optional[bool]) -\u0026gt; Iterator[bytes] abstract release_conn(self) -\u0026gt; None abstract draion_conn(self) -\u0026gt; None abstract close(self) -\u0026gt; None _init_decoder(self) -\u0026gt; None _decode(self, data: bytes, decode_content: Optional[bool], flush_decoder: bool) -\u0026gt; bytes _flush_decoder(self) -\u0026gt; bytes readable(self) -\u0026gt; bool readinto(self, b: bytearray) -\u0026gt; int getheaders(self) -\u0026gt; List[Tuple[str, str]] getheader(self, name: str, default: Optional[str] = None) -\u0026gt; Optional[str] info(self) -\u0026gt; HTTPHeaderDict geturl(self) -\u0026gt; Optional[Union[str, Literal[False]]] } class HTTPResponse { data : property url: property connection : property release_conn(self) -\u0026gt; None draion_conn(self) -\u0026gt; None is_closed(self) -\u0026gt; bool tell(self) -\u0026gt; int _init_length(self, request_method: Optional[str]) -\u0026gt; Optional[int] _error_catcher(self) -\u0026gt; Generator(None, None, None) : contextmanager read(self, amt: Optional[int], decode_content: Optional[bool] = None, cache_content: bool = False) -\u0026gt; bytes stream(amt: Optional[int] decode_content: Optional[bool]) -\u0026gt; Iterator[bytes] classmethod from_httplib(ResponseCls, r: HttpLibHTTPResponse, **response_kw: Any) -\u0026gt; HTTPResponse close(self) -\u0026gt; None closed(self) -\u0026gt; bool :property fileno(self) -\u0026gt; int flush(self) -\u0026gt; None supports_chunked_read(self) -\u0026gt; bool _update_chunk_length(self) -\u0026gt; None _handle_chunk(self, amt: Optional[int]) -\u0026gt; bytes read_chunked(self, amt: Optional[int], decode_content: Optional[bool] = None) -\u0026gt; Generator[bytes, None, None] __iter__(self) -\u0026gt; Iterator[bytes] } BaseHTTPResposne \u0026lt;|-- HTTPResponse @enduml   @startuml enum _Sentinel { not_passed } class RecentUsedContainer { } class HTTPHeaderDictItemView { HTTPHeaderDict _headers } class HTTPHeaderDict { } @enduml   pool_manager @startuml class PookKey { key_scheme key_host key_port key_timeout key_retries key_block key_source_address key_key_file key_key_password key_cert_file key_cert_reqs key_ca_certs key_ssl_version key_ssl_minimum_version key_ssl_maximum_version key_ca_cert_dir key_ssl_context key_maxsize key_headers key__proxy key__proxy_headers key__proxy_config key_socket_options key__socks_options key_assert_hostname key_assert_fingerprint key_server_hostname key_blocksize } class PoolManager { __enter__(self) -\u0026gt; _SelfT __exit__(self, exc_type, exc_val, exc_tb) --\u0026gt; Literal[False] _new_pool(self, scheme: str, host: str, port: str, request_context: Optional[Dict[str, Any]] = None) -\u0026gt; HTTPConnectionPool clear(self) -\u0026gt; None connection_from_host(self, host: Optional[str], port: Optional[int] = None, scheme: Optional[str] = \u0026quot;http\u0026quot;, pool_kwargs: Optional[Dict[str, Any]] = None) -\u0026gt; HTTPConnectionPool connection_from_context(self, request_context: Dict[str, Any]) -\u0026gt; HTTPConnectionPool connection_from_pool_key(self, pool_key: PoolKey, request_context: Dict[str, Any]) -\u0026gt; HTTPConnectionPool connection_from_url(self, url: str, pool_kwargs: Optional[Dict[str, Any]] = None) -\u0026gt; HTTPConnectionPool _merge_pool_kwargs(self, overrider: Optional[Dict[str, Any]]) -\u0026gt; Dict[str, Any] _proxy_requires_url_absolute_form(self, parsed_url: Url) -\u0026gt; bool urlopen(self, method: str, url: str, redirect: bool = True, **kw: Any) -\u0026gt; BaseHTTPResponse } class ProxyManager { connection_from_host(self, host: Optional[str], port: Optional[int] = None, scheme: Optional[str] = \u0026quot;http\u0026quot;, pool_kwargs: Optional[Dict[str, Any]] = None) -\u0026gt; HTTPConnectionPool _set_proxy_headers(self, url: str, headers: Optional[Mapping[str, str]] = None) -\u0026gt; Mapping[str, str] urlopen(self, method: str, url: str, redirect: bool = True, **kw: Any) -\u0026gt; BaseHTTPResponse } RequestMethods \u0026lt;|-- PoolManager PoolManager \u0026lt;|-- ProxyManager @enduml   fields class RequestField { _name _filename headers classmethod from_tuples(cls, fieldname: str, value ) -\u0026gt; RequestField _render_part(self, name: str, value) -\u0026gt; str _render_parts(self, header_parts: Union[Dict[str, str], Sequence[Tuple[str, str]]) -\u0026gt; str render_headers(self) -\u0026gt; str make_multipart(self, content_disposition: Optional[str] = None, content_type: Optional[str] = None, content_loation: Optional[str] = None) -\u0026gt; None }  exceptions @startuml Excepption \u0026lt;|-- HTTPError Warning \u0026lt;|-- HTTPWarning PoolError \u0026lt;|-- HTTPError PoolError \u0026lt;|-- RequestError HTTPError \u0026lt;|-- SSLERROR HTTPError \u0026lt;|-- ProxyError HTTPError \u0026lt;|-- DecodeError HTTPError \u0026lt;|-- ProtocolError HTTPError \u0026lt;|-- ConnectionError RequestError \u0026lt;|-- MaxRetryError RequestError \u0026lt;|-- HostChangeError HTTPError \u0026lt;|-- TimeoutStateError HTTPError \u0026lt;|-- TimeoutError TimeoutError \u0026lt;|-- ReadTimeoutError TimeoutError \u0026lt;|-- ConnectTimeoutError ConnectTimeoutError \u0026lt;|-- NewConnectionError NewConnectionError \u0026lt;|-- NameResolutionError PoolError \u0026lt;|-- EmptyPoolError PoolError \u0026lt;|-- FullPoolError @enduml   connection pool @startuml class ConnectionPool { __str__(self) -\u0026gt; str __enter__(self) -\u0026gt; SelfT __exit__(self, exec_type, exc_value, exc_tb) -\u0026gt; \u0026quot;Literal[False]\u0026quot; close(self) -\u0026gt; None } class HTTPConnectionPool { _new_conn(self) -\u0026gt; HTTPConnection _get_conn(self, timeout: Optional[float] = None) -\u0026gt; HTTPConnection _put_conn(self, conn: Optional[HTTPConnection]) -\u0026gt; None _validate_conn(self, conn: HTTPConnection) -\u0026gt; None _prepare_proxy(self, conn: HTTPConnection) -\u0026gt; None _get_timeout(self, timeout) -\u0026gt; Timeout _raise_timeout(self, err, url: str, timeout_value) -\u0026gt; None _make_request(self, conn: HTTPConnection, method: str, url: str, timeout: float, chunked: bool = False, **httplib_request_kw: Any) -\u0026gt; _HttplibHTTPResponse _absolute_url(self, path: str) -\u0026gt; str close(self) -\u0026gt; None is_same_host(self, url: str) -\u0026gt; bool urlopen(self, method: str, url: str, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw: Any) -\u0026gt; BaseHTTPResponse } class HTTPSConnectionPool { _prepare_conn(self, conn: HTTPSConnection) -\u0026gt; HTTPConnection _prepase_proxy(self, conn: HTTPSConnection) -\u0026gt; None _new_conn(self) -\u0026gt; HTTPConnection _validate_conn(self, conn: HTTPConnection) -\u0026gt; None } ConnectionPool \u0026lt;|-- HTTPConnectionPool RequestMethods \u0026lt;|-- HTTPConnectionPool HTTPConnectionPool \u0026lt;|-- HTTPSConnectionPool @enduml   connection @startuml NamedTuple \u0026lt;|-- ProxyConfig class ProxyConfig { ssl_context use_forwarding_for_https } _HTTPConnection \u0026lt;|-- HTTPConnection class HTTPConnection { host : property _new_conn(self) -\u0026gt; socket.","url":"https://hackrole.github.io/post/urllib3_source_read/"}]}</script>
<meta property="og:title" content="Hackrole's Blog">
<meta property="og:type" content="website">
<meta property="og:url" content="https://hackrole.github.io/post/">
<meta property="og:description" content="Eureka is a elegant and powerful theme for Hugo.">
<meta property="og:locale" content="en">
<meta property="og:site_name" content="Hackrole's Blog">
<meta property="og:updated_time" content="2021-07-18T00:00:00+00:00">
<meta property="article:section" content="post">
<link rel=alternate type=application/rss+xml href=https://hackrole.github.io/post/index.xml title="Hackrole's Blog">
<body class="flex flex-col min-h-screen">
<header class="flex items-center fixed w-full min-h-16 z-50 bg-secondary-bg shadow-sm">
<div class="container mx-auto">
<div class=max-w-screen-xl><script>let storageColorScheme=localStorage.getItem("lightDarkMode");(storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark"?document.getElementsByTagName('html')[0].classList.add('dark'):storageColorScheme=="Light"&&document.getElementsByTagName('html')[0].classList.remove('dark')</script>
<nav class="flex items-center justify-between flex-wrap p-4">
<a href=/ class="mr-6 text-primary-text text-xl font-bold">Hackrole's Blog</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2">
<i class="fas fa-bars"></i>
</button>
<div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
<div class="text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0" id=current-url currenturl=https://hackrole.github.io/post/>
<a href=/about/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">About</a>
<a href=/post/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Posts</a>
<a href=/docs/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Docs</a>
<a href=/tags/ class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Tags</a>
<a href=/categories class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Categories</a>
</div>
<div class=flex>
<div class="relative pt-4 md:pt-0">
<div class="cursor-pointer hover:text-eureka" id=lightDarkMode>
<i class="fas fa-adjust"></i>
</div>
<div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open>
</div>
<div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions>
<span class="px-4 py-1 hover:text-eureka">Light</span>
<span class="px-4 py-1 hover:text-eureka">Dark</span>
<span class="px-4 py-1 hover:text-eureka">Auto</span>
</div>
</div>
</div>
</div>
<div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile>
</div>
</nav>
<script>document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()});let currenturl=document.getElementById('current-url').getAttribute('currenturl');currenturl.length>1&&(currenturl=currenturl.substr(0,currenturl.length-1)),sessionStorage.setItem("mainKey",currenturl);let elements=document.getElementsByClassName('main-a');for(let a in elements)if(typeof elements[a]=="object"){let b=elements[a].getAttribute('href');b.length>1&&b.charAt(b.length-1)=='/'&&(b=b.substr(0,b.length-1)),b==sessionStorage.getItem("mainKey")?elements[a].classList.add('text-eureka'):elements[a].classList.remove('text-eureka')}</script></div>
</div>
</header>
<main class="flex-grow pt-16">
<div class="container mx-auto">
<div class="max-w-screen-xl lg:px-4 xl:px-8">
<article class="mx-6 my-8">
<h1 class="font-bold text-3xl text-primary-text">Posts</h1>
</article>
<div class="bg-secondary-bg rounded overflow-hidden px-4 divide-y">
<div class="px-2 py-6">
<div class="flex flex-col-reverse lg:flex-row justify-between">
<div class=w-full>
<div class=my-2>
<div class=mb-4>
<a href=https://hackrole.github.io/post/video_site_research/ class="font-bold text-xl hover:text-eureka">视频站点架构探索</a>
</div>
<div class=content>
video site or OBS site how to write a video-site or OBS-site TODOref site page AcFun A站
A站架构
业务层面: 用户上传体验，举报自动审核等流程 技术探索: P2P技术?，视频编码切分，视频缩略图存储挑战, 最初的盗链站实现?
youku, youtube
youku,youtube,twitter,justinTV 架构
youku
数据库mysql的一般进化路线: 读写分离 -&amp;gt; 水平sharding, 考虑NoSql,NewSql?? 缓存和CDN的使用
youtube
psyco（dead), pypy JIT编译 热门内容和非热门内容处理方式的分化
保持简单和廉价 保持网络路径简单 使用常用设备 使用自架的存储，要考虑文件系统限制 ext3 vs oss, 小文件存储优化
learning
stall for time, 创造性和风险性的技巧让你短期内解决问题并让你发现长期解决方案 Proioritize, 找出服务核心价值，对资源划分优先级 pick your battle, 别怕将你的核心服务分出去，CDN keep it simple, 简单允许你重新架构 shard, sharding帮助隔离,不只是性能 constant iteration on bottlenecks: 软件(DB, 缓存), OS(磁盘I/O), 硬件(内存/RAID) you succeed as a team.
</div>
</div>
<div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text">
<div class="mr-6 my-2">
<i class="fas fa-calendar mr-1"></i>
<span>Jul 1, 2021</span>
</div>
<div class="mr-6 my-2">
<i class="fas fa-clock mr-1"></i>
<span>1 min read</span>
</div>
</div>
</div>
</div>
</div>
<div class="px-2 py-6">
<div class="flex flex-col-reverse lg:flex-row justify-between">
<div class=w-full>
<div class=my-2>
<div class=mb-4>
<a href=https://hackrole.github.io/post/dirty-quick-and-tidy-it/ class="font-bold text-xl hover:text-eureka">dirty-quick-and-tidy-it</a>
</div>
<div class=content>
backend the failure in manager knobs project, A project for the dirty work.
the reason workflow error the bad workflow
@startuml &amp;quot;start code&amp;quot; -&amp;gt; &amp;quot;while code try to restruct the code&amp;quot; &amp;quot;after code finish&amp;quot; -&amp;gt; &amp;quot;write test for the code or skip this just to deploy and test it by hand&amp;quot; &amp;quot;the configure raise and origin design error&amp;quot; @enduml the maybe-bettter workflow
@startuml &amp;quot;get overview about the code, start write design-doc or just collect it&amp;quot; &amp;quot;first try out the dependance-service, by use django-shell or python-script&amp;quot; &amp;quot;write code or test, maybe TDD is ready now&amp;quot; @enduml the reason for this is forget to do research, the dirty work maybe superise you in any ways.
</div>
</div>
<div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text">
<div class="mr-6 my-2">
<i class="fas fa-calendar mr-1"></i>
<span>May 10, 2021</span>
</div>
<div class="mr-6 my-2">
<i class="fas fa-clock mr-1"></i>
<span>1 min read</span>
</div>
</div>
</div>
</div>
</div>
<div class="px-2 py-6">
<div class="flex flex-col-reverse lg:flex-row justify-between">
<div class=w-full>
<div class=my-2>
<div class=mb-4>
<a href=https://hackrole.github.io/post/urllib3_source_read/ class="font-bold text-xl hover:text-eureka">source read</a>
</div>
<div class=content>
TODOadd lib to auto-read python lib, make plantuml file plantuml graph class graph @startuml class RequestMethods { __init__(headers) urlopen(method: str, url: str, body, headers, encode_multipart, **kw) -&amp;gt; BaseHTTPResposne request(method: str, url: str, body, fields, headers, json, **urlopen_kw) -&amp;gt; BaseHTTPResposne request_encode_url(method, url, fields, headers, **urlopen_kw) -&amp;gt; BaseHTTPResposne request_encode_body(method, url, fields, headers, encode_multipart: bool, **urlopen_kw) -&amp;gt; BaseHTTPResposne } class ContentDecoder { decompress(self, data: btyes) -&amp;gt; bytes flush(self) -&amp;gt; bytes } class DeflateDecoder { decompress(self, data: bytes) -&amp;gt; bytes flush(self) -&amp;gt; bytes } enum GzipDecoderState { FIRST_MEMBER OTHER_MEMBERS SWALLOW_DATA } class GzipDecoder { decompress(self, data: bytes) -&amp;gt; bytes flush(self) -&amp;gt; bytes } class BrotliDecoder { flush(self) -&amp;gt; bytes } class MultiDecoder { list[ContentDecoder] _decoders decompress(self, data: bytes) -&amp;gt; bytes flush(self) -&amp;gt; bytes } ContentDecoder &amp;lt;|-- DeflateDecoder ContentDecoder &amp;lt;|-- GzipDecoder ContentDecoder &amp;lt;|-- BrotliDecoder ContentDecoder &amp;lt;|-- MultiDecoder class BaseHTTPResposne { abstract data : property abstract url : property abstract closed : property abstract HTTPConnection connection : property get_redirect_location(self) -&amp;gt; Union[None, str, False] json() -&amp;gt; Any abstract stream(amt: Optional[int] decode_content: Optional[bool]) -&amp;gt; Iterator[bytes] abstract read(amt: Optional[int], decode_content: Optional[bool], cache_content: bool) -&amp;gt; bytes abstract read_chunked(self, amt: Optional[int], decode_content: Optional[bool]) -&amp;gt; Iterator[bytes] abstract release_conn(self) -&amp;gt; None abstract draion_conn(self) -&amp;gt; None abstract close(self) -&amp;gt; None _init_decoder(self) -&amp;gt; None _decode(self, data: bytes, decode_content: Optional[bool], flush_decoder: bool) -&amp;gt; bytes _flush_decoder(self) -&amp;gt; bytes readable(self) -&amp;gt; bool readinto(self, b: bytearray) -&amp;gt; int getheaders(self) -&amp;gt; List[Tuple[str, str]] getheader(self, name: str, default: Optional[str] = None) -&amp;gt; Optional[str] info(self) -&amp;gt; HTTPHeaderDict geturl(self) -&amp;gt; Optional[Union[str, Literal[False]]] } class HTTPResponse { data : property url: property connection : property release_conn(self) -&amp;gt; None draion_conn(self) -&amp;gt; None is_closed(self) -&amp;gt; bool tell(self) -&amp;gt; int _init_length(self, request_method: Optional[str]) -&amp;gt; Optional[int] _error_catcher(self) -&amp;gt; Generator(None, None, None) : contextmanager read(self, amt: Optional[int], decode_content: Optional[bool] = None, cache_content: bool = False) -&amp;gt; bytes stream(amt: Optional[int] decode_content: Optional[bool]) -&amp;gt; Iterator[bytes] classmethod from_httplib(ResponseCls, r: HttpLibHTTPResponse, **response_kw: Any) -&amp;gt; HTTPResponse close(self) -&amp;gt; None closed(self) -&amp;gt; bool :property fileno(self) -&amp;gt; int flush(self) -&amp;gt; None supports_chunked_read(self) -&amp;gt; bool _update_chunk_length(self) -&amp;gt; None _handle_chunk(self, amt: Optional[int]) -&amp;gt; bytes read_chunked(self, amt: Optional[int], decode_content: Optional[bool] = None) -&amp;gt; Generator[bytes, None, None] __iter__(self) -&amp;gt; Iterator[bytes] } BaseHTTPResposne &amp;lt;|-- HTTPResponse @enduml @startuml enum _Sentinel { not_passed } class RecentUsedContainer { } class HTTPHeaderDictItemView { HTTPHeaderDict _headers } class HTTPHeaderDict { } @enduml pool_manager @startuml class PookKey { key_scheme key_host key_port key_timeout key_retries key_block key_source_address key_key_file key_key_password key_cert_file key_cert_reqs key_ca_certs key_ssl_version key_ssl_minimum_version key_ssl_maximum_version key_ca_cert_dir key_ssl_context key_maxsize key_headers key__proxy key__proxy_headers key__proxy_config key_socket_options key__socks_options key_assert_hostname key_assert_fingerprint key_server_hostname key_blocksize } class PoolManager { __enter__(self) -&amp;gt; _SelfT __exit__(self, exc_type, exc_val, exc_tb) --&amp;gt; Literal[False] _new_pool(self, scheme: str, host: str, port: str, request_context: Optional[Dict[str, Any]] = None) -&amp;gt; HTTPConnectionPool clear(self) -&amp;gt; None connection_from_host(self, host: Optional[str], port: Optional[int] = None, scheme: Optional[str] = &amp;quot;http&amp;quot;, pool_kwargs: Optional[Dict[str, Any]] = None) -&amp;gt; HTTPConnectionPool connection_from_context(self, request_context: Dict[str, Any]) -&amp;gt; HTTPConnectionPool connection_from_pool_key(self, pool_key: PoolKey, request_context: Dict[str, Any]) -&amp;gt; HTTPConnectionPool connection_from_url(self, url: str, pool_kwargs: Optional[Dict[str, Any]] = None) -&amp;gt; HTTPConnectionPool _merge_pool_kwargs(self, overrider: Optional[Dict[str, Any]]) -&amp;gt; Dict[str, Any] _proxy_requires_url_absolute_form(self, parsed_url: Url) -&amp;gt; bool urlopen(self, method: str, url: str, redirect: bool = True, **kw: Any) -&amp;gt; BaseHTTPResponse } class ProxyManager { connection_from_host(self, host: Optional[str], port: Optional[int] = None, scheme: Optional[str] = &amp;quot;http&amp;quot;, pool_kwargs: Optional[Dict[str, Any]] = None) -&amp;gt; HTTPConnectionPool _set_proxy_headers(self, url: str, headers: Optional[Mapping[str, str]] = None) -&amp;gt; Mapping[str, str] urlopen(self, method: str, url: str, redirect: bool = True, **kw: Any) -&amp;gt; BaseHTTPResponse } RequestMethods &amp;lt;|-- PoolManager PoolManager &amp;lt;|-- ProxyManager @enduml fields class RequestField { _name _filename headers classmethod from_tuples(cls, fieldname: str, value ) -&amp;gt; RequestField _render_part(self, name: str, value) -&amp;gt; str _render_parts(self, header_parts: Union[Dict[str, str], Sequence[Tuple[str, str]]) -&amp;gt; str render_headers(self) -&amp;gt; str make_multipart(self, content_disposition: Optional[str] = None, content_type: Optional[str] = None, content_loation: Optional[str] = None) -&amp;gt; None } exceptions @startuml Excepption &amp;lt;|-- HTTPError Warning &amp;lt;|-- HTTPWarning PoolError &amp;lt;|-- HTTPError PoolError &amp;lt;|-- RequestError HTTPError &amp;lt;|-- SSLERROR HTTPError &amp;lt;|-- ProxyError HTTPError &amp;lt;|-- DecodeError HTTPError &amp;lt;|-- ProtocolError HTTPError &amp;lt;|-- ConnectionError RequestError &amp;lt;|-- MaxRetryError RequestError &amp;lt;|-- HostChangeError HTTPError &amp;lt;|-- TimeoutStateError HTTPError &amp;lt;|-- TimeoutError TimeoutError &amp;lt;|-- ReadTimeoutError TimeoutError &amp;lt;|-- ConnectTimeoutError ConnectTimeoutError &amp;lt;|-- NewConnectionError NewConnectionError &amp;lt;|-- NameResolutionError PoolError &amp;lt;|-- EmptyPoolError PoolError &amp;lt;|-- FullPoolError @enduml connection pool @startuml class ConnectionPool { __str__(self) -&amp;gt; str __enter__(self) -&amp;gt; SelfT __exit__(self, exec_type, exc_value, exc_tb) -&amp;gt; &amp;quot;Literal[False]&amp;quot; close(self) -&amp;gt; None } class HTTPConnectionPool { _new_conn(self) -&amp;gt; HTTPConnection _get_conn(self, timeout: Optional[float] = None) -&amp;gt; HTTPConnection _put_conn(self, conn: Optional[HTTPConnection]) -&amp;gt; None _validate_conn(self, conn: HTTPConnection) -&amp;gt; None _prepare_proxy(self, conn: HTTPConnection) -&amp;gt; None _get_timeout(self, timeout) -&amp;gt; Timeout _raise_timeout(self, err, url: str, timeout_value) -&amp;gt; None _make_request(self, conn: HTTPConnection, method: str, url: str, timeout: float, chunked: bool = False, **httplib_request_kw: Any) -&amp;gt; _HttplibHTTPResponse _absolute_url(self, path: str) -&amp;gt; str close(self) -&amp;gt; None is_same_host(self, url: str) -&amp;gt; bool urlopen(self, method: str, url: str, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw: Any) -&amp;gt; BaseHTTPResponse } class HTTPSConnectionPool { _prepare_conn(self, conn: HTTPSConnection) -&amp;gt; HTTPConnection _prepase_proxy(self, conn: HTTPSConnection) -&amp;gt; None _new_conn(self) -&amp;gt; HTTPConnection _validate_conn(self, conn: HTTPConnection) -&amp;gt; None } ConnectionPool &amp;lt;|-- HTTPConnectionPool RequestMethods &amp;lt;|-- HTTPConnectionPool HTTPConnectionPool &amp;lt;|-- HTTPSConnectionPool @enduml connection @startuml NamedTuple &amp;lt;|-- ProxyConfig class ProxyConfig { ssl_context use_forwarding_for_https } _HTTPConnection &amp;lt;|-- HTTPConnection class HTTPConnection { host : property _new_conn(self) -&amp;gt; socket.
</div>
</div>
<div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text">
<div class="mr-6 my-2">
<i class="fas fa-calendar mr-1"></i>
<span>Jan 5, 2021</span>
</div>
<div class="mr-6 my-2">
<i class="fas fa-clock mr-1"></i>
<span>5 min read</span>
</div>
<div class="mr-6 my-2">
<i class="fas fa-folder mr-1"></i>
<a href=https://hackrole.github.io/categories/urllib3/ class=hover:text-eureka>urllib3</a>
</div>
</div>
</div>
</div>
</div>
</div>
<ul class="pagination pagination-default">
<li class=page-item>
<a href=/post/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a>
</li>
<li class=page-item>
<a href=/post/page/4/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a>
</li>
<li class=page-item>
<a href=/post/page/3/ aria-label="Page 3" class=page-link role=button>3</a>
</li>
<li class=page-item>
<a href=/post/page/4/ aria-label="Page 4" class=page-link role=button>4</a>
</li>
<li class="page-item active">
<a aria-current=page aria-label="Page 5" class=page-link role=button>5</a>
</li>
<li class=page-item>
<a href=/post/page/6/ aria-label="Page 6" class=page-link role=button>6</a>
</li>
<li class=page-item>
<a href=/post/page/7/ aria-label="Page 7" class=page-link role=button>7</a>
</li>
<li class=page-item>
<a href=/post/page/6/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a>
</li>
<li class=page-item>
<a href=/post/page/16/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a>
</li>
</ul>
</div>
</div>
</main>
<footer>
<div class="container mx-auto">
<div class=max-w-screen-xl><footer class="w-full text-center p-6 pin-b text-sm text-tertiary-text">
<p>&copy; 2020 <a href=https://www.wangchucheng.com/>C. Wang</a> and <a href=https://www.ruiqima.com/>R. Ma</a> &#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p>
</footer></div>
</div>
</footer>
</body>
</html>